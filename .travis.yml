
matrix:
  include:
    # OpenAPI documentation generation.
    - os: linux
      dist: xenial
      language: python
      python: 3.6
      env:
        - OPENAPI_JSON_FILE_NAME=test_openapi_description.json
        - OPENAPI_DOCUMENTATION_FILE_NAME=grr_api_documentation.html
      install:
        - pip install absl-py
      script:
        - pwd
        - ls -ltr
        - ls -ltr travis
        - python "travis/get_openapi_description.py"
        - npx redoc-cli@0.9.12 bundle "${HOME}/${OPENAPI_JSON_FILE_NAME}"
        - mv "${HOME}/redoc-static.html" "${HOME}/${OPENAPI_DOCUMENTATION_FILE_NAME}"
        - ls -ltr "${HOME}/${OPENAPI_DOCUMENTATION_FILE_NAME}"


